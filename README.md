# parkingDetection
This project is to detect available parking place with AI solution using sound data 
## Instruction
0. Prerequisition: pytorch(1.2.0), scipy, numpy, matplotlib.
1. "main.py" file is the file to train, evaluate the model. Label "evaluate()" and dislabel "train(True/False)" to train the model. Use "train(False)" to rewrite the original model and "train(True)" to continue the previous training. The model will be saved in model.pkl under the same directory.
2. "getDataParallel.py and "getDataWithoutEngine.py" are the files to preprocess the data for experiment 2 and experiment 1 respectivly. Set in the "main.py" "getDataParallel.getData()" or "getDataWithoutEngine.getData()", and set "soundFileListDir" to be the directory containing all the sound data in wav format. Sound data in the desired directory will be preprocessed and the preprocessed result will be stored in "train_data.pkl" and "test_data.pkl" under the same directory if this two files do not exit. Our sound data, pretrained data file  and the detailed description can be download from here: <https://drive.google.com/drive/folders/1hyNJZvaR-QCbyKaIMFKXQ-TYELy7e-TK?usp=sharing>. 
The file name is specified as the following. For "soundDataParallel", the sound file for positive examples is parkingLot[number]\_car[number]\_[peripheral/under]\_[noise/quiet]\_[twl/ssq].wav. "peripheral" means the recording is near the car and "under" means the recording is right under the car. Since the 2 persons in the group (twl and ssq) record at the same time, parkingLot[number]\_car[number]\_[peripheral/under]\_[noise/quiet]\_twl and parkingLot[number]\_car[number]\_[under/peripheral]\_[noise/quiet]_ssq are two parallel sound data. The sound file for negative examples is parkingLot[number]\_withoutCar\_[twl/ssq].wav.
3. To recover experiment 1 or 2 of our work, copy "model.pkl", "train.pkl" and "test.pkl" from "pretrain/[experiment name]" directory to the same directory main.py lies in, then use "train(True)" to continue the training and "evaluate" to see the evaluation result with test data. 
